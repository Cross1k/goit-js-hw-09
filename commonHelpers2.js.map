{"version":3,"file":"commonHelpers2.js","sources":["../src/js/2-form.js"],"sourcesContent":["let formData = {\n  email: '',\n  message: '',\n};\n\nconst localStorageKey = 'feedback-form-state';\n\nconst form = document.querySelector('form');\n\nconst frag = document.createDocumentFragment();\nconst input = document.createElement('input');\nconst textarea = document.createElement('textarea');\nconst button = document.createElement('button');\n\ninput.classList.add('form-input');\ninput.type = 'email';\ninput.name = 'email';\ninput.autofocus = true;\n\ntextarea.classList.add('form-textarea');\ntextarea.name = 'message';\ntextarea.rows = '8';\n\nbutton.classList.add('form-button');\nbutton.type = 'submit';\nbutton.textContent = 'Submit';\n\nconst formParams = [input, textarea];\n\nformParams.forEach(param => {\n  const label = document.createElement('label');\n  label.textContent = param.name[0].toUpperCase() + param.name.slice(1);\n  frag.append(label);\n  label.append(param);\n});\nfrag.append(button);\n\nform.addEventListener('input', event => {\n  if (event.target.nodeName === 'INPUT') formData.email = event.target.value;\n  if (event.target.nodeName === 'TEXTAREA')\n    formData.message = event.target.value;\n  localStorage.setItem(localStorageKey, JSON.stringify(formData));\n});\n\nformData = JSON.parse(localStorage.getItem(localStorageKey));\n\nform.addEventListener('submit', event => {\n  event.preventDefault();\n  if (!input.value || !textarea.value) {\n    return alert('Fill please all fields');\n  }\n  console.log(formData);\n  localStorage.removeItem(localStorageKey);\n  form.reset();\n  formData.email = '';\n  formData.message = '';\n});\n\nform.append(frag);\n\ninput.value = formData.email;\ntextarea.value = formData.message;\n"],"names":["formData","localStorageKey","form","frag","input","textarea","button","formParams","param","label","event"],"mappings":"wFAAA,IAAIA,EAAW,CACb,MAAO,GACP,QAAS,EACX,EAEA,MAAMC,EAAkB,sBAElBC,EAAO,SAAS,cAAc,MAAM,EAEpCC,EAAO,SAAS,yBAChBC,EAAQ,SAAS,cAAc,OAAO,EACtCC,EAAW,SAAS,cAAc,UAAU,EAC5CC,EAAS,SAAS,cAAc,QAAQ,EAE9CF,EAAM,UAAU,IAAI,YAAY,EAChCA,EAAM,KAAO,QACbA,EAAM,KAAO,QACbA,EAAM,UAAY,GAElBC,EAAS,UAAU,IAAI,eAAe,EACtCA,EAAS,KAAO,UAChBA,EAAS,KAAO,IAEhBC,EAAO,UAAU,IAAI,aAAa,EAClCA,EAAO,KAAO,SACdA,EAAO,YAAc,SAErB,MAAMC,EAAa,CAACH,EAAOC,CAAQ,EAEnCE,EAAW,QAAQC,GAAS,CAC1B,MAAMC,EAAQ,SAAS,cAAc,OAAO,EAC5CA,EAAM,YAAcD,EAAM,KAAK,CAAC,EAAE,YAAa,EAAGA,EAAM,KAAK,MAAM,CAAC,EACpEL,EAAK,OAAOM,CAAK,EACjBA,EAAM,OAAOD,CAAK,CACpB,CAAC,EACDL,EAAK,OAAOG,CAAM,EAElBJ,EAAK,iBAAiB,QAASQ,GAAS,CAClCA,EAAM,OAAO,WAAa,UAASV,EAAS,MAAQU,EAAM,OAAO,OACjEA,EAAM,OAAO,WAAa,aAC5BV,EAAS,QAAUU,EAAM,OAAO,OAClC,aAAa,QAAQT,EAAiB,KAAK,UAAUD,CAAQ,CAAC,CAChE,CAAC,EAEDA,EAAW,KAAK,MAAM,aAAa,QAAQC,CAAe,CAAC,EAE3DC,EAAK,iBAAiB,SAAUQ,GAAS,CAEvC,GADAA,EAAM,eAAc,EAChB,CAACN,EAAM,OAAS,CAACC,EAAS,MAC5B,OAAO,MAAM,wBAAwB,EAEvC,QAAQ,IAAIL,CAAQ,EACpB,aAAa,WAAWC,CAAe,EACvCC,EAAK,MAAK,EACVF,EAAS,MAAQ,GACjBA,EAAS,QAAU,EACrB,CAAC,EAEDE,EAAK,OAAOC,CAAI,EAEhBC,EAAM,MAAQJ,EAAS,MACvBK,EAAS,MAAQL,EAAS"}